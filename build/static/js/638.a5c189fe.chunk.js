"use strict";(self.webpackChunkfinal_project_frontend=self.webpackChunkfinal_project_frontend||[]).push([[638],{8850:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var i=t(4165),a=t(2982),r=t(5861),o=t(885),s=t(2791),c=t(9434),l=t(7002),d=t(4942),p=t(1413),u=t(5987),x=t(8563),f=t(4565),h=t(2455),m=t(425),v=(t(4676),t(184)),g=function(e){var n=e.data,t=e.title,i=e.sortType,a=e.chapTotal,r=Z();return(0,v.jsxs)("div",{className:r.root,children:[(0,v.jsx)("div",{className:r.titleSection,children:(0,v.jsx)(f.Z,{variant:"h4",children:t})}),(0,v.jsx)(x.tq,{id:"swiper",slidesPerView:"vote"!==i?7:4,className:r.swiper,spaceBetween:24,children:n.map((function(e){return(0,v.jsx)(x.o5,{style:{width:"vote"!==i?"152px":"260px"},children:(0,v.jsx)(m.Z,{chapTotal:a,comic:e,sortType:i})},e.id)}))})]})},Z=(0,h.Z)((function(e){return{root:{display:"flex",flexDirection:"column",maxWidth:"1200px",width:"100%",zIndex:1},swiper:{width:"100%","& .swiper-wrapper":{padding:"16px 0"}},titleSection:{zIndex:0,marginBottom:"24px",textTransform:"capitalize",display:"flex",justifyContent:"space-between",alignItems:"center"},viewAllPath:{textTransform:"uppercase",color:e.palette.primary.main,textDecoration:"none",fontWeight:500,fontSize:"14px"},loading:(0,d.Z)({height:"calc(336px - ".concat(e.spacing(16),"px)"),width:"100%"},e.breakpoints.down("xs"),{height:"calc(336px - ".concat(e.spacing(14),"px)")})}})),w=t(7982),b=t(3938),j=t(7278),k=["Book"],y=function(){var e=C(),n=(0,s.useState)(!1),t=(0,o.Z)(n,2),l=t[0],d=t[1],x=(0,s.useState)([]),f=(0,o.Z)(x,2),h=f[0],m=f[1],Z=(0,s.useState)([]),y=(0,o.Z)(Z,2),S=y[0],N=y[1],T=(0,s.useState)([]),z=(0,o.Z)(T,2),I=z[0],B=z[1],R=(0,s.useState)([]),W=(0,o.Z)(R,2),D=W[0],E=W[1],P=(0,s.useState)([]),L=(0,o.Z)(P,2),_=L[0],q=L[1],A=(0,c.I0)(),V=(0,s.useCallback)((0,r.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A((0,w.z)(b.i.newReleaseBook,"get"));case 2:n=e.sent,m((0,a.Z)(n.data));case 4:case"end":return e.stop()}}),e)}))),[A]),F=(0,s.useCallback)((0,r.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A((0,w.z)(b.i.newReleaseBookChapter,"get"));case 2:n=e.sent,t=n.data.map((function(e){var n=e.Book,t=(0,u.Z)(e,k);return(0,p.Z)((0,p.Z)({},n),{},{Chaps:[t]})})),N(t);case 5:case"end":return e.stop()}}),e)}))),[A]),H=(0,s.useCallback)((0,r.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A((0,w.z)(b.i.topBook,"get"));case 2:n=e.sent,B((0,a.Z)(n.data.books)),q((0,a.Z)(n.data.chapTotal));case 5:case"end":return e.stop()}}),e)}))),[A]),O=(0,s.useCallback)((0,r.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A((0,w.z)(b.i.actionBook,"get"));case 2:n=e.sent,E((0,a.Z)(n.data));case 4:case"end":return e.stop()}}),e)}))),[A]);return(0,s.useEffect)((function(){d(!0),V(),F(),H(),O(),d(!1)}),[O,V,F,H]),(0,v.jsxs)("div",{className:e.root,children:[l&&(0,v.jsx)(j.Z,{}),(0,v.jsx)(g,{data:h,title:"Truy\u1ec7n m\u1edbi c\u1eadp nh\u1eadt",sortType:"popular"}),(0,v.jsx)(g,{data:S,title:"Chapter m\u1edbi c\u1eadp nh\u1eadt",sortType:"newChapter"}),(0,v.jsx)(g,{data:I,chapTotal:_,title:"Truy\u1ec7n nhi\u1ec1u ng\u01b0\u1eddi \u01b0a th\xedch",sortType:"vote"}),(0,v.jsx)(g,{data:D,title:"Truy\u1ec7n h\xe0nh \u0111\u1ed9ng",sortType:"popular"})]})},C=(0,h.Z)((function(e){return{root:(0,d.Z)({display:"flex",flexDirection:"column",alignItems:"center"},e.breakpoints.down("sm"),{padding:"0px 4px"})}})),S=t(1009),N=t(8996),T=t(5590),z=t(1694),I=t.n(z),B=t(1281),R=t(6015),W=t(5209),D=t(7205),E=t(3746),P=t(7237),L=t(7689),_=t(9954),q=t(8812),A=function(e){var n,t=e.comic,i=V(),a=(0,c.I0)(),r=(0,L.useNavigate)();return(0,v.jsxs)("div",{className:i.root,children:[(0,v.jsx)(R.Z,{height:"100px",children:(0,v.jsx)(f.Z,{className:i.title,variant:"h4",children:null===t||void 0===t?void 0:t.name})}),(0,v.jsxs)(R.Z,{display:"flex",alignItems:"center",children:[(0,v.jsx)(f.Z,{mr:"10px",children:"T\xe1c gi\u1ea3:"}),(0,v.jsx)(x.tq,{id:"swiper",className:i.swiper,slidesPerView:"auto",spaceBetween:8,children:null===t||void 0===t||null===(n=t.Authors)||void 0===n?void 0:n.map((function(e){return(0,v.jsx)(x.o5,{children:(0,v.jsx)(W.Z,{sx:{bgcolor:"#ff8a80","&:hover":{backgroundColor:"#ef9a9a"}},label:e.name,component:"a",href:"#basic-chip",clickable:!0})},e.id)}))})]}),(0,v.jsxs)(R.Z,{display:"flex",mt:1,children:[(0,v.jsx)(f.Z,{mr:1,children:"L\u01b0\u1ee3t xem"}),(0,v.jsx)(E.Z,{}),":",(0,v.jsx)(f.Z,{ml:"10px",children:null===t||void 0===t?void 0:t.viewCount})]}),(0,v.jsxs)(R.Z,{display:"flex",mt:2,children:[(0,v.jsx)(f.Z,{mr:1,children:"L\u01b0\u1ee3t th\xedch"}),(0,v.jsx)(P.Z,{}),":",(0,v.jsx)(f.Z,{ml:"10px",children:null===t||void 0===t?void 0:t.voteCount})]}),(0,v.jsx)(D.Z,{size:"small",onClick:function(){if(t&&t.Chaps){var e=(0,_.qi)(t.Chaps,"chapName",!0).reverse();a((0,q.R)((0,p.Z)({},t))),r((0,_.No)(t.name,e[0].chapName,e[0].id))}},className:i.readingButton,variant:"contained",disableElevation:!0,children:"\u0110\u1ecdc ngay"})]})},V=(0,h.Z)((function(e){return{root:(0,d.Z)({display:"flex",flexDirection:"column",width:"328px",padding:"0 12px",flexShrink:0},e.breakpoints.down("sm"),{width:"100%"}),title:{maxWidth:"100%",maxHeight:"72px",wordBreak:"break-word",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box","-webkit-line-clamp":"3","line-clamp":"3","-webkit-box-orient":"vertical"},readingButton:{marginTop:"16px",backgroundColor:"#ff8a80",color:"black",fontSize:"18px","&:hover":{backgroundColor:"#ef9a9a"}},swiper:{flex:1}}}));B.ZP.use([B.W_,B.pt,B.Qr]);var F=function(e){var n,t=e.comicList,i=(0,s.useState)(0),a=(0,o.Z)(i,2),r=a[0],c=a[1],l=(0,s.useState)(),p=(0,o.Z)(l,2),u=p[0],f=p[1],h=(0,s.useRef)(null),m=(0,s.useRef)(null),g=function(e){null===u||void 0===u||u.slideTo(e),c(e)},Z=null===(n=t[r])||void 0===n?void 0:n.image,w=H();return(0,s.useEffect)((function(){if(u){var e=setInterval((function(){r===t.length-1?(u.slideTo(0),c(0)):(u.slideTo(r+1),c((function(e){return e+1})))}),4e3);return function(){clearInterval(e)}}}),[r,u]),(0,v.jsxs)("div",{className:w.root,children:[(0,v.jsx)("div",{style:{transition:"all 300ms",backgroundImage:"linear-gradient(rgba(250, 250, 250, 0.64) 0%, rgb(255 255 255) 100%), url(".concat(Z,")")},className:w.bgImage}),(0,v.jsxs)("div",{className:w.bannerWrapper,children:[(0,v.jsx)(A,{comic:t[r]}),(0,v.jsx)("div",{className:w.swiperWrap,children:(0,v.jsxs)(x.tq,{className:w.swiper,controller:{control:u},onSwiper:f,slidesPerView:5,spaceBetween:16,direction:"horizontal",slideToClickedSlide:!0,navigation:{prevEl:h.current,nextEl:m.current},onBeforeInit:function(e){e.params.navigation.prevEl=h.current,e.params.navigation.nextEl=m.current},children:[(0,v.jsx)(T.Z,{size:"small",className:I()(w.navNext,w.nav,(0,d.Z)({},w.hidden,r===t.length-1)),ref:m,color:"secondary",onClick:function(){return g(r+1)},children:(0,v.jsx)(N.Z,{fontSize:"medium"})}),(0,v.jsx)(T.Z,{size:"small",className:I()(w.navPrev,w.nav,(0,d.Z)({},w.hidden,0===r)),ref:h,color:"secondary",onClick:function(){return g(r-1)},children:(0,v.jsx)(S.Z,{fontSize:"medium"})}),t.map((function(e,n){return(0,v.jsx)(x.o5,{onClick:function(){return g(n)},style:{width:"136px"},children:(0,v.jsx)("img",{className:I()(w.imageCard,(0,d.Z)({},w.activeSlide,n==r)),src:e.image,alt:e.name})},e.id)})),(0,v.jsx)("div",{className:w.pagination,children:t.map((function(e,n){return(0,v.jsx)("span",{onClick:function(){return g(n)},className:I()(w.paginationBullet,(0,d.Z)({},w.paginationActive,n===r))},e.id)}))})]})})]})]})},H=(0,h.Z)((function(e){var n,t;return{root:(0,d.Z)({width:"100%",display:"flex",flexDirection:"column",paddingTop:"128px ",paddingBottom:"68px",position:"relative",justifyContent:"center",alignItems:"center"},e.breakpoints.down("sm"),{justifyContent:"flex-start",alignItems:"unset"}),bgImage:{backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"cover",position:"absolute",height:"100%",top:0,left:0,right:0,zIndex:0},bannerWrapper:(n={display:"flex",flexDirection:"row",justifyContent:"space-between",maxWidth:"1200px",zIndex:1},(0,d.Z)(n,e.breakpoints.down("sm"),{flexDirection:"column-reverse",justifyContent:"space-between"}),(0,d.Z)(n,e.breakpoints.down("md"),{width:"100%"}),n),swiperWrap:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"flex-end",alignSelf:"end",padding:"0 12px",minWidth:0,width:"100%"},swiper:(0,d.Z)({position:"relative",width:"100%",height:"auto",display:"flex",flexDirection:"column"},e.breakpoints.down("sm"),{width:"100%"}),imageCard:{height:"192px",width:"".concat(136,"px"),borderRadius:"8px",objectFit:"cover",cursor:"pointer"},activeSlide:{transition:"all 100ms",border:"4px solid ".concat(e.palette.secondary.main),boxSizing:"border-box"},nav:{position:"absolute",display:"flex",zIndex:10,cursor:"pointer",top:"35%"},navNext:{right:"8px"},navPrev:{left:"8px"},hidden:{display:"none"},pagination:{marginInline:"auto",marginTop:"14px"},paginationBullet:(t={width:"8px",height:"8px",display:"inline-block",borderRadius:"50%",backgroundColor:e.palette.grey[800],marginRight:"12px"},(0,d.Z)(t,e.breakpoints.down("sm"),{marginRight:"8px"}),(0,d.Z)(t,"cursor","pointer"),t),paginationActive:{background:"#fb8c00 ",opacity:"1"}}})),O=function(e){var n=e.comicList;Q();return(0,v.jsx)(F,{comicList:n})},Q=(0,h.Z)((function(e){return{}})),G=function(){var e=(0,s.useState)([]),n=(0,o.Z)(e,2),t=n[0],d=n[1],p=(0,s.useState)(!1),u=(0,o.Z)(p,2),x=u[0],f=u[1],h=(0,c.I0)(),m=(0,s.useCallback)((0,r.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,h((0,w.z)(b.i.popularBook,"get"));case 3:n=e.sent,d((0,a.Z)(n.data)),f(!1);case 6:case"end":return e.stop()}}),e)}))),[h]);return(0,s.useEffect)((function(){m()}),[m]),(0,v.jsxs)(l.Z,{isReadScreen:!1,children:[x&&(0,v.jsx)(j.Z,{}),(0,v.jsx)(O,{comicList:t}),(0,v.jsx)(y,{})]})}}}]);
//# sourceMappingURL=638.a5c189fe.chunk.js.map